#include <Servo.h>

Servo servos[5];  // 5 servos for 5 fingers
int servoPins[5] = {3, 5, 6, 9, 10};  // Define servo pins

void setup() {
    Serial.begin(9600);
    for (int i = 0; i < 5; i++) {
        servos[i].attach(servoPins[i]);
    }
}

void loop() {
    if (Serial.available()) {
        String data = Serial.readStringUntil('\n');
        int angles[5];
        int index = 0;
        char *ptr = strtok((char *)data.c_str(), ",");

        while (ptr != NULL && index < 5) {
            angles[index] = atoi(ptr) * 180;  // Convert 0/1 to 0/180 degrees
            servos[index].write(angles[index]);
            ptr = strtok(NULL, ",");
            index++;
        }
    }
}
